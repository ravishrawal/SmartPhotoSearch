[{"/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/index.js":"1","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/App.js":"2","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/reportWebVitals.js":"3","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/uploadPhoto.jsx":"4","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/secrets.js":"5","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/searchBar.jsx":"6"},{"size":500,"mtime":1607569334651,"results":"7","hashOfConfig":"8"},{"size":359,"mtime":1607795457748,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1606955006026,"results":"10","hashOfConfig":"8"},{"size":2479,"mtime":1607840111325,"results":"11","hashOfConfig":"8"},{"size":168,"mtime":1607728106727,"results":"12","hashOfConfig":"8"},{"size":2325,"mtime":1607839420929,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1vhbs6y",{"filePath":"17","messages":"18","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"16"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"16"},"/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/index.js",[],["31","32"],"/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/App.js",["33","34","35","36"],"import logo from './logo.svg';\nimport UploadPhoto from './uploadPhoto';\nimport SearchBar from './searchBar';\nimport {Route, BrowserRouter, Link} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      </header>\n      <UploadPhoto />\n  \t  <SearchBar />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/reportWebVitals.js",[],"/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/uploadPhoto.jsx",["37"],"import React, {Component} from 'react';\nimport {aws_access_key_id, aws_secret_access_key} from './secrets';\nimport { v4 as uuidv4 } from 'uuid';\n\nvar AWS = require(\"aws-sdk\");\nconst credentials = new AWS.Credentials(aws_access_key_id, aws_secret_access_key)\nconst region = 'us-east-1';\nAWS.config.update({\n\tregion,\n\tcredentials\n});\n\n\nclass UploadPhoto extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tpicturePreview: null,\n\t\t\tpictureAsFile: null,\n\t\t\tsubmitted: false\n\t\t}\n\t\tthis.submitHandler = this.submitHandler.bind(this)\n\t\tthis.uploadPicture = this.uploadPicture.bind(this)\n\t\tthis.resetHandler = this.resetHandler.bind(this)\n\t}\n\tcomponentDidMount() {\n\t\tconsole.log('upload mounted!');\n\t\t// apigClient.invokeApi({}, '/search', 'GET',{},{})\n\t\t// .then(res => console.log(res))\n\t}\n\tuploadPicture(e){\n\t\te.preventDefault()\n\t\tconsole.log(e)\n\t\tthis.setState({ \n\t\t\tpicturePreview: URL.createObjectURL(e.target.files[0]),\n\t\t\tpictureAsFile: e.target.files[0]\n\t\t})\n\t}\n\tresetHandler(e) {\n\t\te.preventDefault();\n\t\tthis.setState({ submitted:false })\n\t}\n\n\tsubmitHandler(e) {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append(\n\t\t\t\"file\",\n\t\t\tthis.state.pictureAsFile\n\t\t\t);\n\n\t\tconst s3 = new AWS.S3({apiVersion: '2006-03-01'})\n\t\tvar params = {\n\t\t  Body: this.state.pictureAsFile, \n\t\t  Bucket: \"rav-viren-photos\", \n\t\t  Key: uuidv4()\n\t\t};\n\t\ts3.putObject(params, (err, data)=> {\n\t\t\t\t\tif(err) console.log(err, err.stack)\n\t\t\t\t\telse console.log(data)\n\t\t\t\t\t}\n\t\t\t)\n\t\t\tthis.setState({ \n\t\t\t\t\t\t\tpicturePreview:null,\n\t\t\t\t\t\t\tpictureAsFile:null,\n\t\t\t\t\t\t\tsubmitted:true\n\t\t\t\t\t\t  })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t\t\t<div className=\"container\">\n\t\t\t        \t{ this.state.submitted == false &&\n\t\t\t        \t\t<div>\n\t\t\t\t        \t\t<form action=\"/action_page.php\" onSubmit={this.submitHandler}>\n\t\t\t\t\t\t        \t<div className=\"row\" style={{margin:\"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t\t\t\t  \tUpload Photo\n\t\t\t\t\t\t\t\t\t\t  \t<input type=\"file\" id=\"img\" name=\"img\" accept=\"image/*\" onChange={this.uploadPicture} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-4\" style={{marginTop:\"10px\"}}>\n\t\t\t\t\t\t\t\t\t  \t\t<input className=\"btn btn-success\" type=\"submit\" />\n\t\t\t\t\t\t\t\t  \t\t</div>\n\t\t\t\t\t\t\t  \t    </div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ this.state.submitted &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tSubmitted!\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.resetHandler}>Submit Another</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t)\n\t}\n}\n\nexport default UploadPhoto\n\n\n","/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/secrets.js",[],["38","39"],"/Users/ravishrawal/Desktop/Columbia MS/Fall 2020/Cloud Computing/HW3/Client/src/searchBar.jsx",["40","41","42"],"import {React, Component} from 'react';\nimport axios from 'axios'\n\nclass SearchBar extends Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tsearchterm: '',\n\t\t\tdirty: false,\n\t\t\timages: [],\n\t\t}\n\t\tthis.inputHandler = this.inputHandler.bind(this);\n\t\tthis.searchHandler = this.searchHandler.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tconsole.log('search bar mounted');\n\t}\n\tinputHandler(e){\n\t\tif(!this.state.dirty) this.setState({dirty:true});\n\t\tthis.state.searchterm = e.target.value;\n\t}\n\tsearchHandler(e){\n\t\te.preventDefault();\n\t\tvar q = this.state.searchterm\n\t\tvar headers = { \"Access-Control-Allow-Origin\": '*' }\n\t\taxios.get('https://gjn0sehjb2.execute-api.us-east-1.amazonaws.com/Dev/search',\n\t\t\t\t\t{\n\t\t\t\t\t  \tparams: {\n\t\t\t\t\t      q\n\t\t\t\t\t  \t}\n\t\t\t\t  \t})\n\t\t\t .then(res => res.data)\n\t\t\t .then(img_arr => {\n\t\t\t \tthis.setState({images: img_arr})\n\t\t\t })\n\t}\n\trender(){\n\t\tconsole.log(this.state)\n\t\tvar img_static = \"data:image/png;base64, \"\n\t\treturn (\n\t\t\t<div className=\"row\" style={{ margin:\"auto\", marginTop:\"30px\" }}>\n\t\t        <div className=\"col-sm-8\">\n\t\t        \t<div className=\"input-group mb-3\">\n\t\t\t\t\t  <div className=\"input-group-prepend\">\n\t\t\t\t\t    <span className=\"input-group-text border border-warning\" id=\"basic-addon1\">\n\t\t\t\t\t    \t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t    </span>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <input type=\"text\" onChange={this.inputHandler} className=\"form-control border border-warning\" placeholder=\"Search\" aria-label=\"Search\" aria-describedby=\"basic-addon1\" />\n\t\t\t\t\t</div>\n\t\t        </div>\n\t\t        { this.state.dirty && \n\t\t        \t<div className=\"col-sm\">\n\t\t        \t\t<button className=\"btn btn-warning\" onClick={this.searchHandler}>\n\t\t        \t\t\tGo\n\t        \t\t\t</button>\n\t        \t\t</div>\n        \t\t}\n        \t\t{ this.state.images.length > 0 &&\n        \t\t\t<div className=\"container\">\n        \t\t\t\t<div className=\"row\" > \n\t        \t\t\t\t{ this.state.images.map((item, index) => {\n\t        \t\t\t\t\tvar img_url = item.image\n\t        \t\t\t\t\tconsole.log(img_url.slice(1,10))\n\t        \t\t\t\t\treturn (\n\t        \t\t\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t\t        \t\t<img key={index} src={img_static+img_url} className='img-responsive img-thumbnail'/>\n\t\t\t\t\t\t        \t\t</div>\n\t        \t\t\t\t\t\t)\n\t        \t\t\t\t\t})\n\t        \t\t\t\t}\n\t        \t\t\t</div>\n\t        \t\t</div>\n        \t\t}\n\t      \t</div>\n\t\t\t)\n\t}\n}\n\nexport default SearchBar",{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":1,"column":8,"nodeType":"49","messageId":"50","endLine":1,"endColumn":12},{"ruleId":"47","severity":1,"message":"51","line":4,"column":9,"nodeType":"49","messageId":"50","endLine":4,"endColumn":14},{"ruleId":"47","severity":1,"message":"52","line":4,"column":16,"nodeType":"49","messageId":"50","endLine":4,"endColumn":29},{"ruleId":"47","severity":1,"message":"53","line":4,"column":31,"nodeType":"49","messageId":"50","endLine":4,"endColumn":35},{"ruleId":"54","severity":1,"message":"55","line":73,"column":36,"nodeType":"56","messageId":"57","endLine":73,"endColumn":38},{"ruleId":"43","replacedBy":"58"},{"ruleId":"45","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":20,"column":3,"nodeType":"62","endLine":20,"endColumn":13},{"ruleId":"47","severity":1,"message":"63","line":25,"column":7,"nodeType":"49","messageId":"50","endLine":25,"endColumn":14},{"ruleId":"64","severity":1,"message":"65","line":67,"column":18,"nodeType":"66","endLine":67,"endColumn":102},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'BrowserRouter' is defined but never used.","'Link' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["67"],["68"],"react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'headers' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]