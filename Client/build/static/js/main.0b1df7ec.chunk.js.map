{"version":3,"sources":["logo.svg","uploadPhoto.jsx","secrets.js","speechRecognition.jsx","searchBar.jsx","App.js","reportWebVitals.js","index.js"],"names":["AWS","require","credentials","Credentials","config","update","region","UploadPhoto","state","picturePreview","pictureAsFile","submitted","submitHandler","bind","uploadPicture","resetHandler","console","log","e","preventDefault","this","setState","URL","createObjectURL","target","files","FormData","append","s3","S3","apiVersion","params","Body","Bucket","Key","uuidv4","putObject","err","data","stack","className","action","onSubmit","style","padding","type","id","name","accept","onChange","width","height","display","onClick","Component","SpeechRecognition","words","recognizing","sp_rec","window","webkitSpeechRecognition","toggleMicrophone","continuous","interimResults","onstart","onresult","event","transcript","results","onend","start","stop","props","onSpeech","stopMicrophone","startMicrophone","class","SearchBar","searchterm","dirty","images","speech","inputHandler","searchHandler","speechHandler","value","q","axios","get","then","res","img_arr","placeholder","aria-label","aria-describedby","margin","length","map","item","index","img_url","image","slice","src","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2KAAe,I,8CCIXA,EAAMC,EAAQ,IACZC,EAAc,IAAIF,EAAIG,YCLJ,uBACI,4CDM5BH,EAAII,OAAOC,OAAO,CACjBC,OAFc,YAGdJ,gB,IA6FcK,E,kDAxFd,aAAe,IAAD,8BACb,gBACKC,MAAQ,CACZC,eAAgB,KAChBC,cAAe,KACfC,WAAW,GAEZ,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,gBACrB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBACrB,EAAKE,aAAe,EAAKA,aAAaF,KAAlB,gBATP,E,gEAYbG,QAAQC,IAAI,qB,oCAICC,GACbA,EAAEC,iBACFH,QAAQC,IAAIC,GACZE,KAAKC,SAAS,CACbZ,eAAgBa,IAAIC,gBAAgBL,EAAEM,OAAOC,MAAM,IACnDf,cAAeQ,EAAEM,OAAOC,MAAM,O,mCAGnBP,GACZA,EAAEC,iBACFC,KAAKC,SAAS,CAAEV,WAAU,M,oCAGbO,GACbA,EAAEC,kBACe,IAAIO,UACZC,OACR,OACAP,KAAKZ,MAAME,eAGZ,IAAMkB,EAAK,IAAI5B,EAAI6B,GAAG,CAACC,WAAY,eAC/BC,EAAS,CACXC,KAAMZ,KAAKZ,MAAME,cACjBuB,OAAQ,mBACRC,IAAKC,eAEPP,EAAGQ,UAAUL,GAAQ,SAACM,EAAKC,GACrBD,EAAKrB,QAAQC,IAAIoB,EAAKA,EAAIE,OACxBvB,QAAQC,IAAIqB,MAGnBlB,KAAKC,SAAS,CACVZ,eAAe,KACfC,cAAc,KACdC,WAAU,M,+BAKf,OACG,sBAAK6B,UAAU,YAAf,UACC,oBAAIA,UAAU,OAAd,4BACgC,GAAxBpB,KAAKZ,MAAMG,WACZ,8BACC,sBAAM8B,OAAO,mBAAmBC,SAAUtB,KAAKR,cAA/C,SACC,sBAAK4B,UAAU,WAAf,UACL,8BACG,uBACCG,MAAO,CAACC,QAAQ,OAChBC,KAAK,OAAOC,GAAG,MACfC,KAAK,MAAMC,OAAO,UAClBC,SAAU7B,KAAKN,kBAEnB,8BACG,uBAAO0B,UAAU,eAAeK,KAAK,SAASF,MAAO,CAACO,MAAM,QAASC,OAAO,OAAQC,QAAQ,QAASR,QAAQ,kBAMlHxB,KAAKZ,MAAMG,WACZ,6CAEC,wBAAQ6B,UAAU,sBAAsBa,QAASjC,KAAKL,aAAtD,sC,GAjFkBuC,a,iBEsDXC,E,kDA/Dd,aAAc,IAAD,8BACZ,gBACK/C,MAAQ,CACZgD,MAAO,GACPC,aAAa,GAEd,EAAKC,OAAS,IAAIC,OAAOC,wBAEzB,EAAKC,iBAAmB,EAAKA,iBAAiBhD,KAAtB,gBARZ,E,gEAUO,IACd6C,EAAUtC,KAAVsC,OACL1C,QAAQC,IAAIyC,GACZA,EAAOI,YAAa,EACpBJ,EAAOK,gBAAiB,EACxBL,EAAOM,QAAU,WACdhD,QAAQC,IAAI,UAEfyC,EAAOO,SAAW,SAASC,GAAQ,IAC7BC,EAAcD,EAAME,QAAQ,GAAG,GAA/BD,WACL/C,KAAKC,SAAU,CAACmC,MAAMW,IACtBnD,QAAQC,IAAIiD,EAAME,QAAQ,GAAG,GAAGD,aAEjCT,EAAOO,SAAWP,EAAOO,SAASpD,KAAKO,MACvCsC,EAAOW,MAAQ,SAASH,GACrBlD,QAAQC,IAAI,Y,wCAIfG,KAAKC,SAAS,CAACoC,aAAY,IACzBrC,KAAKsC,OAAOY,U,uCAGZlD,KAAKC,SAAS,CAACoC,aAAY,IAC3BrC,KAAKsC,OAAOa,OACZnD,KAAKoD,MAAMC,SAASrD,KAAKZ,MAAMgD,S,yCAG1BpC,KAAKZ,MAAMiD,YACbrC,KAAKsD,iBAELtD,KAAKuD,oB,+BAIF,IACFlB,EAAgBrC,KAAKZ,MAArBiD,YACN,OACC,8BACC,yBAAQJ,QAASjC,KAAKyC,iBAAkBrB,UAAU,eAAlD,WACGiB,GAAe,mBAAGjB,UAAU,0BAC7BiB,GACA,gCACC,mBAAGmB,MAAM,4BACT,mBAAGpC,UAAY,4C,GAvDUc,aC4FjBuB,E,kDA1Fd,aAAc,IAAD,8BACZ,gBACKrE,MAAQ,CACZsE,WAAY,GACZC,OAAO,EACPC,OAAQ,GACRC,QAAQ,GAET,EAAKC,aAAe,EAAKA,aAAarE,KAAlB,gBACpB,EAAKsE,cAAgB,EAAKA,cAActE,KAAnB,gBACrB,EAAKuE,cAAgB,EAAKA,cAAcvE,KAAnB,gBAVT,E,gEAaZG,QAAQC,IAAI,wB,mCAEAC,GACRE,KAAKZ,MAAMuE,OAAO3D,KAAKC,SAAS,CAAC0D,OAAM,IAC3C3D,KAAKZ,MAAMsE,WAAa5D,EAAEM,OAAO6D,Q,oCAEpBnE,GAAG,IAAD,OACfA,EAAEC,iBACA,IAAImE,EAAIlE,KAAKZ,MAAMsE,WAErBS,IAAMC,IAAI,oEACP,CACGzD,OAAQ,CACLuD,OAGJG,MAAK,SAAAC,GAAG,OAAIA,EAAIpD,QAChBmD,MAAK,SAAAE,GACL,EAAKtE,SAAS,CAAC2D,OAAQW,S,oCAGfnC,GACbpC,KAAKC,SAAS,CAAC4D,OAAOzB,EAAOsB,WAAWtB,EAAOuB,OAAM,M,+BAGrD,IADO,EAE2B3D,KAAKZ,MAA3ByE,GAFL,EAEFF,MAFE,EAEKE,QAAQH,EAFb,EAEaA,WACpB,OACC,sBAAKtC,UAAU,YAAf,UACC,oBAAIA,UAAU,OAAd,iCACM,8BACC,qBAAKA,UAAU,mBAAf,SACJ,qBAAKA,UAAU,sBAAf,SACE,uBAAMA,UAAU,2BAA2BM,GAAG,eAA9C,UACC,mBAAGN,UAAU,kBACb,uBAAOK,KAAK,OACXI,SAAU7B,KAAK8D,aACf1C,UAAU,qCACVoD,YAAaX,EAASH,EAAa,SACnCe,aAAW,SACXC,mBAAiB,eACjBnD,MAAO,CAACoD,OAAO,eAEhB,cAAC,EAAD,CAAmBtB,SAAUrD,KAAKgE,gBAChCN,GACE,8BACC,wBAAQtC,UAAU,eAAea,QAASjC,KAAK+D,cAA/C,2BASH/D,KAAKZ,MAAMwE,OAAOgB,OAAS,GAC5B,sBAAKxD,UAAU,YAAf,UACC,uBACA,qBAAKA,UAAU,MAAf,SACGpB,KAAKZ,MAAMwE,OAAOiB,KAAI,SAACC,EAAMC,GAC9B,IAAIC,EAAUF,EAAKG,MAEnB,OADArF,QAAQC,IAAImF,EAAQE,MAAM,EAAE,KAE1B,qBAAK9D,UAAU,WAAf,SACC,qBAAiB+D,IAvCf,0BAuC+BH,EAAS5D,UAAU,gCAA1C2D,oB,GA9EH7C,aCqBTkD,MApBf,WACE,OACE,sBAAKhE,UAAU,MAAf,UACE,wBAAQA,UAAU,eAElB,sBAAKA,UAAU,YAAf,UACG,oBAAIA,UAAU,YAAd,2BACA,uBACF,qBAAKA,UAAU,MAAf,SACC,cAAC,EAAD,MAED,uBACA,qBAAKA,UAAU,MAAf,SACA,cAAC,EAAD,aCNQiE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlB,MAAK,YAAkD,IAA/CmB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.0b1df7ec.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, {Component} from 'react';\nimport {aws_access_key_id, aws_secret_access_key} from './secrets';\nimport { v4 as uuidv4 } from 'uuid';\n\nvar AWS = require(\"aws-sdk\");\nconst credentials = new AWS.Credentials(aws_access_key_id, aws_secret_access_key)\nconst region = 'us-east-1';\nAWS.config.update({\n\tregion,\n\tcredentials\n});\n\n\nclass UploadPhoto extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tpicturePreview: null,\n\t\t\tpictureAsFile: null,\n\t\t\tsubmitted: false\n\t\t}\n\t\tthis.submitHandler = this.submitHandler.bind(this)\n\t\tthis.uploadPicture = this.uploadPicture.bind(this)\n\t\tthis.resetHandler = this.resetHandler.bind(this)\n\t}\n\tcomponentDidMount() {\n\t\tconsole.log('upload mounted!');\n\t\t// apigClient.invokeApi({}, '/search', 'GET',{},{})\n\t\t// .then(res => console.log(res))\n\t}\n\tuploadPicture(e){\n\t\te.preventDefault()\n\t\tconsole.log(e)\n\t\tthis.setState({ \n\t\t\tpicturePreview: URL.createObjectURL(e.target.files[0]),\n\t\t\tpictureAsFile: e.target.files[0]\n\t\t})\n\t}\n\tresetHandler(e) {\n\t\te.preventDefault();\n\t\tthis.setState({ submitted:false })\n\t}\n\n\tsubmitHandler(e) {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append(\n\t\t\t\"file\",\n\t\t\tthis.state.pictureAsFile\n\t\t\t);\n\n\t\tconst s3 = new AWS.S3({apiVersion: '2006-03-01'})\n\t\tvar params = {\n\t\t  Body: this.state.pictureAsFile, \n\t\t  Bucket: \"rav-viren-photos\", \n\t\t  Key: uuidv4()\n\t\t};\n\t\ts3.putObject(params, (err, data)=> {\n\t\t\t\t\tif(err) console.log(err, err.stack)\n\t\t\t\t\telse console.log(data)\n\t\t\t\t\t}\n\t\t\t)\n\t\t\tthis.setState({ \n\t\t\t\t\t\t\tpicturePreview:null,\n\t\t\t\t\t\t\tpictureAsFile:null,\n\t\t\t\t\t\t\tsubmitted:true\n\t\t\t\t\t\t  })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<h3 className=\"lead\">Upload A Photo</h3>\n\t\t\t        \t{ this.state.submitted == false &&\n\t\t\t        \t\t<div>\n\t\t\t\t        \t\t<form action=\"/action_page.php\" onSubmit={this.submitHandler}>\n\t\t\t\t\t\t        \t<div className=\"bg-light\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t  \t<input \n\t\t\t\t\t\t\t\t\t\t  \t\tstyle={{padding:\"1px\"}} \n\t\t\t\t\t\t\t\t\t\t  \t\ttype=\"file\" id=\"img\" \n\t\t\t\t\t\t\t\t\t\t  \t\tname=\"img\" accept=\"image/*\" \n\t\t\t\t\t\t\t\t\t\t  \t\tonChange={this.uploadPicture} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t  \t\t<input className=\"btn btn-dark\" type=\"submit\" style={{width:\"103px\", height:\"30px\", display:\"block\", padding:\"1px\"}} />\n\t\t\t\t\t\t\t\t  \t\t</div>\n\t\t\t\t\t\t\t  \t    </div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ this.state.submitted &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tSubmitted!\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary col\" onClick={this.resetHandler}>Submit Another</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t)\n\t}\n}\n\nexport default UploadPhoto\n\n\n","var aws_access_key_id = 'AKIAXFPNKTVFUWEK7L6D'\nvar aws_secret_access_key = '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'\nexport {aws_access_key_id, aws_secret_access_key}\n","import {React, Component} from 'react';\n\n\nclass SpeechRecognition extends Component{\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = {\n\t\t\twords: '',\n\t\t\trecognizing: false\n\t\t}\n\t\tthis.sp_rec = new window.webkitSpeechRecognition();\n\t\t// this.startButton = this.startButton.bind(this)\n\t\tthis.toggleMicrophone = this.toggleMicrophone.bind(this)\n\t}\n\tcomponentDidMount(){\n\t\tvar {sp_rec} = this\n\t\tconsole.log(sp_rec)\n\t\tsp_rec.continuous = true;\n\t\tsp_rec.interimResults = true;\n\t\tsp_rec.onstart = function() {\n\t\t\t\t\tconsole.log('start')\n\t\t\t  \t\t};\n\t\tsp_rec.onresult = function(event) { \n\t\t\tvar {transcript} = event.results[0][0]\n\t\t\tthis.setState(({words:transcript}))\n\t\t\tconsole.log(event.results[0][0].transcript)\n\t\t}\n\t\tsp_rec.onresult = sp_rec.onresult.bind(this)\n\t\tsp_rec.onend = function(event) { \n\t\t  \tconsole.log('ONEND') \n\t\t}\n\t}\n\tstartMicrophone() {\n\t\tthis.setState({recognizing:true})\n\t  \tthis.sp_rec.start()\n  \t}\n  \tstopMicrophone() {\n  \t\tthis.setState({recognizing:false})\n  \t\tthis.sp_rec.stop()\n  \t\tthis.props.onSpeech(this.state.words)\n  \t}\n  \ttoggleMicrophone() {\n\t    if (this.state.recognizing) {\n\t      this.stopMicrophone();\n\t    } else {\n\t      this.startMicrophone();\n\t    }\n\t}\n\n\trender(){\n\t\tvar { recognizing } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button onClick={this.toggleMicrophone} className=\"btn btn-link\">\n\t\t\t\t\t{!recognizing && <i className=\"fas fa-microphone-alt\"></i>}\n\t\t\t\t\t{recognizing && \n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<i class=\"fas fa-spinner fa-pulse\"></i>\n\t\t\t\t\t\t\t<i className = \"fas fa-microphone-alt-slash\"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default SpeechRecognition","import {React, Component} from 'react';\nimport axios from 'axios'\nimport SpeechRecognition from './speechRecognition'\n\nclass SearchBar extends Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tsearchterm: '',\n\t\t\tdirty: false,\n\t\t\timages: [],\n\t\t\tspeech: false\n\t\t}\n\t\tthis.inputHandler = this.inputHandler.bind(this);\n\t\tthis.searchHandler = this.searchHandler.bind(this);\n\t\tthis.speechHandler = this.speechHandler.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tconsole.log('search bar mounted');\n\t}\n\tinputHandler(e){\n\t\tif(!this.state.dirty) this.setState({dirty:true});\n\t\tthis.state.searchterm = e.target.value;\n\t}\n\tsearchHandler(e){\n\t\te.preventDefault();\n  \t\tvar q = this.state.searchterm\n\t\tvar headers = { \"Access-Control-Allow-Origin\": '*' }\n\t\taxios.get('https://gjn0sehjb2.execute-api.us-east-1.amazonaws.com/Dev/search',\n\t\t\t\t\t{\n\t\t\t\t\t  \tparams: {\n\t\t\t\t\t      q\n\t\t\t\t\t  \t}\n\t\t\t\t  \t})\n\t\t\t\t\t .then(res => res.data)\n\t\t\t\t\t .then(img_arr => {\n\t\t\t\t\t \tthis.setState({images: img_arr})\n\t\t\t\t\t })\t\n\t}\n\tspeechHandler(words){\n\t\tthis.setState({speech:words, searchterm:words, dirty:true})\n\t}\n\trender(){\n\t\tvar img_static = \"data:image/png;base64, \"\n\t\tvar {dirty, speech, searchterm} = this.state\n\t\treturn (\n\t\t\t<div className=\"container\" >\n\t\t\t\t<h3 className=\"lead\">Search Your Library</h3>\n\t\t        <div>\n\t\t        \t<div className=\"input-group mb-3\">\n\t\t\t\t\t  <div className=\"input-group-prepend\">\n\t\t\t\t\t    <span className=\"input-group-text rounded\" id=\"basic-addon1\">\n\t\t\t\t\t    \t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t    \t<input type=\"text\" \n\t\t\t\t\t    \t\tonChange={this.inputHandler} \n\t\t\t\t\t    \t\tclassName=\"form-control border border-warning\" \n\t\t\t\t\t    \t\tplaceholder={speech ? searchterm : \"search\"} \n\t\t\t\t\t    \t\taria-label=\"Search\" \n\t\t\t\t\t    \t\taria-describedby=\"basic-addon1\" \n\t\t\t\t\t    \t\tstyle={{margin:\"auto 10px\"}}\n\t\t\t\t\t    \t/>\n\t\t\t\t\t    \t<SpeechRecognition onSpeech={this.speechHandler}/>\n\t\t\t\t\t    \t{ searchterm && \n\t\t\t\t\t        \t<div>\n\t\t\t\t\t        \t\t<button className=\"btn btn-dark\" onClick={this.searchHandler}>\n\t\t\t\t\t        \t\t\tGo\n\t\t\t\t        \t\t\t</button>\n\t\t\t\t        \t\t</div>\n\t\t\t        \t\t}\n\t\t\t\t\t    </span>\n\t\t\t\t  \t  </div>\n\t\t\t\t\t</div>\n\t\t        </div>\n        \t\t{ this.state.images.length > 0 &&\n        \t\t\t<div className=\"container\">\n        \t\t\t\t<hr />\n        \t\t\t\t<div className=\"row\" > \n\t        \t\t\t\t{ this.state.images.map((item, index) => {\n\t        \t\t\t\t\tvar img_url = item.image\n\t        \t\t\t\t\tconsole.log(img_url.slice(1,10))\n\t        \t\t\t\t\treturn (\n\t        \t\t\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t\t        \t\t<img key={index} src={img_static+img_url} className='img-responsive img-thumbnail'/>\n\t\t\t\t\t\t        \t\t</div>\n\t        \t\t\t\t\t\t)\n\t        \t\t\t\t\t})\n\t        \t\t\t\t}\n\t        \t\t\t</div>\n\t        \t\t</div>\n        \t\t}\n\t      \t</div>\n\t\t\t)\n\t}\n}\n\nexport default SearchBar","import logo from './logo.svg';\nimport UploadPhoto from './uploadPhoto';\nimport SearchBar from './searchBar';\nimport {Route, BrowserRouter, Link} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      </header>\n      <div className=\"container\">\n      \t  <h1 className=\"display-4\"> Photo Album </h1>\n      \t  <hr />\n\t      <div className=\"row\">\n\t\t      <UploadPhoto />\n\t      </div>\n\t      <hr />\n\t      <div className=\"row\">\n\t\t  \t  <SearchBar />\n\t  \t  </div>\n  \t  </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}