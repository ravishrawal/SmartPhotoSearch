(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{25:function(e,t){},479:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s(6),i=s.n(a),c=s(56),r=s.n(c),o=(s(63),s.p,s(9)),l=s(10),d=s(5),u=s(12),h=s(11),b=s(482),j=s(64),p=new j.Credentials("AKIAXFPNKTVFUWEK7L6D","9UVSaCW9IVae1PtZibyLGkaHF0v38nNdnGGYydAU");j.config.update({region:"us-east-1",credentials:p});var m=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={picturePreview:null,pictureAsFile:null,submitted:!1},e.submitHandler=e.submitHandler.bind(Object(d.a)(e)),e.uploadPicture=e.uploadPicture.bind(Object(d.a)(e)),e.resetHandler=e.resetHandler.bind(Object(d.a)(e)),e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){console.log("upload mounted!")}},{key:"uploadPicture",value:function(e){e.preventDefault(),console.log(e),this.setState({picturePreview:URL.createObjectURL(e.target.files[0]),pictureAsFile:e.target.files[0]})}},{key:"resetHandler",value:function(e){e.preventDefault(),this.setState({submitted:!1})}},{key:"submitHandler",value:function(e){e.preventDefault(),(new FormData).append("file",this.state.pictureAsFile);var t=new j.S3({apiVersion:"2006-03-01"}),s={Body:this.state.pictureAsFile,Bucket:"rav-viren-photos",Key:Object(b.a)()};t.putObject(s,(function(e,t){e?console.log(e,e.stack):console.log(t)})),this.setState({picturePreview:null,pictureAsFile:null,submitted:!0})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h3",{className:"lead",children:"Upload A Photo"}),0==this.state.submitted&&Object(n.jsx)("div",{children:Object(n.jsx)("form",{action:"/action_page.php",onSubmit:this.submitHandler,children:Object(n.jsxs)("div",{className:"bg-light",children:[Object(n.jsx)("div",{children:Object(n.jsx)("input",{style:{padding:"1px"},type:"file",id:"img",name:"img",accept:"image/*",onChange:this.uploadPicture})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{className:"btn btn-dark",type:"submit",style:{width:"103px",height:"30px",display:"block",padding:"1px"}})})]})})}),this.state.submitted&&Object(n.jsxs)("div",{children:["Submitted!",Object(n.jsx)("button",{className:"btn btn-primary col",onClick:this.resetHandler,children:"Submit Another"})]})]})}}]),s}(a.Component),g=s(57),O=s.n(g),v=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={words:"",recognizing:!1},e.sp_rec=new window.webkitSpeechRecognition,e.toggleMicrophone=e.toggleMicrophone.bind(Object(d.a)(e)),e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this.sp_rec;console.log(e),e.continuous=!0,e.interimResults=!0,e.onstart=function(){console.log("start")},e.onresult=function(e){var t=e.results[0][0].transcript;this.setState({words:t}),console.log(e.results[0][0].transcript)},e.onresult=e.onresult.bind(this),e.onend=function(e){console.log("ONEND")}}},{key:"startMicrophone",value:function(){this.setState({recognizing:!0}),this.sp_rec.start()}},{key:"stopMicrophone",value:function(){this.setState({recognizing:!1}),this.sp_rec.stop(),this.props.onSpeech(this.state.words)}},{key:"toggleMicrophone",value:function(){this.state.recognizing?this.stopMicrophone():this.startMicrophone()}},{key:"render",value:function(){var e=this.state.recognizing;return Object(n.jsx)("div",{children:Object(n.jsxs)("button",{onClick:this.toggleMicrophone,className:"btn btn-link",children:[!e&&Object(n.jsx)("i",{className:"fas fa-microphone-alt"}),e&&Object(n.jsxs)("div",{children:[Object(n.jsx)("i",{class:"fas fa-spinner fa-pulse"}),Object(n.jsx)("i",{className:"fas fa-microphone-alt-slash"})]})]})})}}]),s}(a.Component),f=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={searchterm:"",dirty:!1,images:[],speech:!1},e.inputHandler=e.inputHandler.bind(Object(d.a)(e)),e.searchHandler=e.searchHandler.bind(Object(d.a)(e)),e.speechHandler=e.speechHandler.bind(Object(d.a)(e)),e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){console.log("search bar mounted")}},{key:"inputHandler",value:function(e){this.state.dirty||this.setState({dirty:!0}),this.state.searchterm=e.target.value}},{key:"searchHandler",value:function(e){var t=this;e.preventDefault();var s=this.state.searchterm;O.a.get("https://gjn0sehjb2.execute-api.us-east-1.amazonaws.com/Dev/search",{params:{q:s}}).then((function(e){return e.data})).then((function(e){t.setState({images:e})}))}},{key:"speechHandler",value:function(e){this.setState({speech:e,searchterm:e,dirty:!0})}},{key:"render",value:function(){var e=this.state,t=(e.dirty,e.speech),s=e.searchterm;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h3",{className:"lead",children:"Search Your Library"}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsxs)("span",{className:"input-group-text rounded",id:"basic-addon1",children:[Object(n.jsx)("i",{className:"fas fa-search"}),Object(n.jsx)("input",{type:"text",onChange:this.inputHandler,className:"form-control border border-warning",placeholder:t?s:"search","aria-label":"Search","aria-describedby":"basic-addon1",style:{margin:"auto 10px"}}),Object(n.jsx)(v,{onSpeech:this.speechHandler}),s&&Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:"btn btn-dark",onClick:this.searchHandler,children:"Go"})})]})})})}),this.state.images.length>0&&Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:this.state.images.map((function(e,t){var s=e.image;return console.log(s.slice(1,10)),Object(n.jsx)("div",{className:"col-sm-6",children:Object(n.jsx)("img",{src:"data:image/png;base64, "+s,className:"img-responsive img-thumbnail"},t)})}))})]})]})}}]),s}(a.Component);var x=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{className:"App-header"}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"display-4",children:" Photo Album "}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(m,{})}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(f,{})})]})]})},y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,483)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),y()},63:function(e,t,s){}},[[479,1,2]]]);
//# sourceMappingURL=main.0b1df7ec.chunk.js.map